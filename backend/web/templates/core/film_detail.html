{%extends "base.html" %}
{% block content %}
<p></p>


<center>  <h6>{{object}}</h6>
                                               
                                               {% if object.website %}
                                                <div id="ytplayer">
                                                    <iframe width="900" height="600" src="{{ object.website }}"
                                                            title="YouTube video player" frameborder="0"
                                                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                                            allowfullscreen></iframe>
                                                    {{ object.text_preview }}


                                                    {% if object.director %}
                                                        <p>
                                                            {{ object.name }} 
                                                            режиссер {{ object.director }}
                                                        
                                                    {% endif %}
                                                </div>
                                            {% else %}
                                                <div>
                                                    {{ object.text_preview }}
                                                    {% for song in object.songs.all %}
                                                        {% if song.file %}
                                                            <div class="audio {% if forloop.counter != 1 %}hidden{% endif %}"
                                                                 id="id_{{ song.id }}">
                                                                <audio style="width: 250px" controls
                                                                       src="{{ song.file.url }}"></audio>
                                                            </div>
                                                        {% endif %}
                                                    {% endfor %}
                                                    
                                                </div>
                                            {% endif %}
  

<p></p>
<div class="container">
    <div class="row">


        {% for film in object.films.all %}


        <div class="card" style="width: 16rem;">
            <div class="col-md-3 col-lg-12   col-sm-6">
                <div class="row">
                    <div class="card-img">
                        <a href="{{film.get_absolute_url }}"><img class="" src="{{film.image.url}}"
                        style="width:200px;height:200px;"></a>
                        <h7 class="card-title"></h7>
                        <p class="card-text"></p>
                        <a href="{{film.get_absolute_url}}"> {{film.name}} </a></p>
                        {{ category.about_text }}
                    </div>
                </div>
            </div>
        </div>



        {% endfor %}
    </div>
    {%endblock%}



    
<center>
      
        <div class="container mt-3">
            <div>
                {% for object in object_list %}
                    <div class="bg-link d-inline-block">
                        <div>
                            {% if object.image %}
                                <div class="flip-card audio-root">
                                    <div class="flip-card-inner">
                                        <div class="flip-card-front">
                                            <img class="flipcard-image-front" src="{{ object.image.url }}" alt="">
                                        </div>
                                        <div class="flip-card-back">
                                            {% if object.website %}
                                                <div id="ytplayer">
                                                    <iframe width="250" height="100" src="{{ object.website }}"
                                                            title="YouTube video player" frameborder="0"
                                                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                                            allowfullscreen></iframe>
                                                    {{ object.text_preview }}


                                                    {% if object.director %}
                                                        <p>
                                                            {{ object.name }} 
                                                            режиссер {{ object.director }}

                                                        <p>Нажмите  на изображение.
                                                        В правом нижнем углу видео появится логотип Youtube и квадратик.
                                                        При повторном нажатии на квадрат, видео развернется на весь
                                                        экран
                                                    {% endif %}
                                                </div>
                                            {% else %}
                                                <div>
                                                    {{ object.text_preview }}
                                                    {% for song in object.songs.all %}
                                                        {% if song.file %}
                                                            <div class="audio {% if forloop.counter != 1 %}hidden{% endif %}"
                                                                 id="id_{{ song.id }}">
                                                                <audio style="width: 250px" controls
                                                                       src="{{ song.file.url }}"></audio>
                                                            </div>
                                                        {% endif %}
                                                    {% endfor %}
                                                    
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            {% endif %}


                            <div>
                                <a href="{{ object.get_absolute_url }}">{{ object }} </a>
                                <br>
                                {% if object.creation_author %}
                                    <a href="{{ object.get_absolute_url }}"> {{ object.creation_author }}</a>
                                {% endif %}
                               
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
    </center>
    </div>

   

    <style>
        img {
            height: 150px;
            width: 120px;
        }

        body {
            font-family: Arial, Helvetica, sans-serif;
        }

        .flip-card {
            background-color: transparent;
            width: 250px;
            height: 300px;
            perspective: 1000px;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        }

        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front,
        .flip-card-back {
            vertical-align: middle;
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .flip-card-front {
            background-color: #bbb;
            color: black;
        }

        .flip-card-back {
            background-color: rgb(38, 67, 171);
            color: white;
            text-align: center;
            transform: rotateY(180deg);
        }
    </style>
    </center>
